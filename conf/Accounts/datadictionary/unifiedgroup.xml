<!-- $Id$ -->
<!DOCTYPE data-dictionary SYSTEM "../dtd/cs-dd.dtd">
<!--<!DOCTYPE data-dictionary SYSTEM "../dtd/cs-dd.dtd"> -->
<data-dictionary name="Accounts">

    <table name="IAMUnifiedGroup" display-name="UnifiedGroup">
        <description>Users in an Account can be grouped based on their traits and the group can be used to simplify administrative operations, such as, sharing a document to all "Managers" and can also be synced across multiple services to preserve the group setting across services for a set of users.</description>
        <columns>
            <column name="UNIFIED_GROUP_AUTO_ID">
                <data-type>BIGINT</data-type>
                <nullable>false</nullable>
                <uniquevalue-generation>
                    <generator-name>IAMUnifiedGroup.UNIFIED_GROUP_AUTO_ID</generator-name>
                    <generator-class>com.zoho.accounts.internal.LongSequenceGenerator</generator-class>
                </uniquevalue-generation>
            </column>
            <column name="ZGID">
                <description>Unique ID for the group.</description>
                <data-type>CHAR</data-type>
                <max-size>100</max-size>
                <nullable>false</nullable>
                <allowed-values>
                    <pattern>&zid;</pattern>
                </allowed-values>
            </column>
            <column name="ACCOUNT_AUTO_ID">
                <description>Foreign Key from IAMAccount table.</description>
                <data-type>BIGINT</data-type>
                <nullable>false</nullable>
            </column>
            <column name="GROUP_STATUS">
                <description>Denote the status of the group - Active-1/Inactive-0/Marked for Removal-2.</description>
            	<data-type>TINYINT</data-type>
            	<default-value>1</default-value>
            </column>
            <column name="SUPER_ADMIN_ZUID">
                <description>ZUID of the admin user.</description>
            	<data-type>CHAR</data-type>
            	<max-size>100</max-size>
            	<allowed-values>
                    <pattern>&zid;</pattern>
                </allowed-values>
            </column>
            <column name="DEPARTMENT_HEAD">
                <description>ZUID of the department head. Only applicable for DEPARTMENT typed Groups.</description>
            	<data-type>CHAR</data-type>
            	<max-size>100</max-size>
            	<allowed-values>
                    <pattern>&zid;</pattern>
                </allowed-values>
            </column>
            <column name="GROUP_NAME">
                <description>Name of the group.</description>
                <data-type>CHAR</data-type>
                <max-size>100</max-size>
                <nullable>false</nullable>
                <allowed-values>
                    <pattern>xss:throwerror</pattern>
                </allowed-values>
            </column>
            <column name="GROUP_DESCRIPTION">
                <description>Short description of the group.</description>
                <data-type>CHAR</data-type>
                <max-size>200</max-size>
                <allowed-values>
                    <pattern>xss:throwerror</pattern>
                </allowed-values>
            </column>
            <column name="GROUP_TYPE">
                <description>Type of the group, Sub group member retrieval behaviour can be determined based on the this value.</description>
                <data-type>TINYINT</data-type>
                <default-value>0</default-value>
                <nullable>false</nullable>
            </column>
            <column name="GROUP_EXPOSURE">
                <description>Determine whether anyone from org can join the group or only admin can add user or send invite.</description>
            	<data-type>TINYINT</data-type>
            	<default-value>0</default-value>
                <nullable>false</nullable>
            </column>
            <column name="SOURCE_SERVICE">
                <description>Name of the IAM Service through which group was created.</description>
            	<data-type>INTEGER</data-type>
            	<default-value>-1</default-value>
                <nullable>false</nullable>
            </column>
            <column name="IS_SERVICE_SYNC_ENABLED">
                <description>To enable and disable sync of group across services. Disabled by default.</description>
                <data-type>TINYINT</data-type>
                <default-value>0</default-value>
                <nullable>false</nullable>
            </column>
            <column name="SMART_GROUP_TYPE">
                <description>Types of smart groups, based on which either smart group constraint checks are handled on IAM/Service sides or disabled.</description>
                <data-type>TINYINT</data-type>
                <default-value>0</default-value>
                <nullable>false</nullable>
            </column>
            <column name="ADDED_BY">
                <description>ZUID of the user who created the resource.</description>
                <data-type>CHAR</data-type>
                <max-size>100</max-size>
                <default-value>-1</default-value>
                <nullable>false</nullable>
                <allowed-values>
                    <pattern>&zid;</pattern>
                </allowed-values>
            </column>
            <column name="MODIFIED_BY">
                <description>ZUID of the user who lastly modified the resource.</description>
                <data-type>CHAR</data-type>
                <max-size>100</max-size>
                <allowed-values>
                    <pattern>&zid;</pattern>
                </allowed-values>
            </column>
            <column name="CREATED_TIME">
                <description>Resource created time.</description>
                <data-type>BIGINT</data-type>
            </column>
            <column name="MODIFIED_TIME">
                <description>Resource lastly modified time.</description>
                <data-type>BIGINT</data-type>
            </column>
        </columns>
        <primary-key name="IAMUnifiedGroup_PK">
            <primary-key-column>UNIFIED_GROUP_AUTO_ID</primary-key-column>
        </primary-key>
        <foreign-keys>
            <foreign-key name="IAMUnifiedGroup_FK1" reference-table-name="IAMAccount" >
                <fk-columns>
                    <fk-column>
                        <fk-local-column>ACCOUNT_AUTO_ID</fk-local-column>
                        <fk-reference-column>ACCOUNT_AUTO_ID</fk-reference-column>
                    </fk-column>
                </fk-columns>
                <fk-constraints>ON-DELETE-CASCADE</fk-constraints>
            </foreign-key>
        </foreign-keys>
        <unique-keys>
            <unique-key name="IAMUnifiedGroup_UK1">
                <unique-key-column>ZGID</unique-key-column>
            </unique-key>
        </unique-keys>
        <indexes>
            <index name="IAMUnifiedGroup_NAMEndx">
                <index-column>GROUP_NAME</index-column>
            </index>
            <index name="IAMUnifiedGroup_CRBYndx">
                <index-column>ADDED_BY</index-column>
            </index>
        </indexes>
    </table>
    <table name="IAMUnifiedGroupRealm" display-name="UnifiedGroupRealm">
        <description>This table contains a set of rules like "Adding a member/Deleting a member/Expiry time for members" for all the members in the group under the specified realm. (ALLOW_MEMBER_ADDITION, ALLOW_MEMBER_DELETION, MEMBER_EXPIRY_TIME) are some of the policies applicable for members under this is realm. There is always a default realm which has no restrictions but admin checks.</description>
    	<columns>
            <column name="UNIFIED_GROUP_REALM_AUTO_ID">
                <data-type>BIGINT</data-type>
                <nullable>false</nullable>
                <uniquevalue-generation>
                    <generator-name>IAMUnifiedGroupRealm.UNIFIED_GROUP_REALM_AUTO_ID</generator-name>
                    <generator-class>com.zoho.accounts.internal.LongSequenceGenerator</generator-class>
                </uniquevalue-generation>
            </column>
            <column name="ZGRID">
                <data-type>BIGINT</data-type>
                <uniquevalue-generation>
                    <generator-name>UnifiedGroupRealm.ZGRID</generator-name>
                    <generator-class>com.zoho.accounts.internal.LongSequenceGenerator</generator-class>
                </uniquevalue-generation>
            </column>
            <column name="UNIFIED_GROUP_AUTO_ID">
                <description>Foreign Key from IAMUnifiedGroup table.</description>
                <data-type>BIGINT</data-type>
                <nullable>false</nullable>
            </column>
            <column name="GROUP_REALM_NAME">
                <description>Realm name for list of rules. Each of these will be applicable for users under this group realm.</description>
                <data-type>CHAR</data-type>
                <max-size>100</max-size>
                <nullable>false</nullable>
                <allowed-values>
                    <pattern>xss:throwerror</pattern>
                </allowed-values>
            </column>
            <column name="IS_ENABLED">
                <description>To enable and disable the realm. If disabled users under the disabled realm will be considered similar to inactive users.</description>
                <data-type>TINYINT</data-type>
                <default-value>1</default-value>
                <nullable>false</nullable>
            </column>
            <column name="ADDED_BY">
                <description>ZUID of the user who created the resource.</description>
                <data-type>CHAR</data-type>
                <max-size>100</max-size>
                <default-value>-1</default-value>
                <nullable>false</nullable>
                <allowed-values>
                    <pattern>&zid;</pattern>
                </allowed-values>
            </column>
            <column name="MODIFIED_BY">
                <description>ZUID of the user who lastly modified the resource.</description>
                <data-type>CHAR</data-type>
                <max-size>100</max-size>
                <allowed-values>
                    <pattern>&zid;</pattern>
                </allowed-values>
            </column>
            <column name="CREATED_TIME">
                <description>Resource created time.</description>
                <data-type>BIGINT</data-type>
            </column>
            <column name="MODIFIED_TIME">
                <description>Resource lastly modified time.</description>
                <data-type>BIGINT</data-type>
            </column>
    	</columns>
        <primary-key name="IAMUnifiedGroupRealm_PK">
            <primary-key-column>UNIFIED_GROUP_REALM_AUTO_ID</primary-key-column>
        </primary-key>
        <foreign-keys>
            <foreign-key name="IAMUnifiedGroupRealm_FK1" reference-table-name="IAMUnifiedGroup" >
                <fk-columns>
                    <fk-column>
                        <fk-local-column>UNIFIED_GROUP_AUTO_ID</fk-local-column>
                        <fk-reference-column>UNIFIED_GROUP_AUTO_ID</fk-reference-column>
                    </fk-column>
                </fk-columns>
                <fk-constraints>ON-DELETE-CASCADE</fk-constraints>
            </foreign-key>
        </foreign-keys>
        <unique-keys>
	        <unique-key name="IAMUnifiedGroupRealm_UK1">
	            <unique-key-column>ZGRID</unique-key-column>
	        </unique-key>
	        <unique-key name="IAMUnifiedGroupRealm_UK2">
	            <unique-key-column>UNIFIED_GROUP_AUTO_ID</unique-key-column>
	            <unique-key-column>GROUP_REALM_NAME</unique-key-column>
	        </unique-key>
        </unique-keys>
    </table>
    <table name="IAMUnifiedGroupMember" display-name="UnifiedGroupMember">
        <description>This is the group member table under the realm table where all the members belonging to the group are categorized(based on type, realm, etc,.) and placed. During realm deletion, GroupMembers under the realm will be MOVEd to DEFAULT realm.</description>
    	<columns>
            <column name="UNIFIED_GROUP_REALM_AUTO_ID">
                <description>Foreign Key from IAMUnifiedGroupRealm table.</description>
                <data-type>BIGINT</data-type>
                <nullable>false</nullable>
            </column>
            <column name="UNIFIED_GROUP_AUTO_ID">
                <description>Foreign Key from IAMUnifiedGroup table.</description>
                <data-type>BIGINT</data-type>
                <nullable>false</nullable>
            </column>
            <column name="ZUID">
                <description>User ID of the group member.</description>
            	<data-type>CHAR</data-type>
            	<max-size>100</max-size>
            	<nullable>false</nullable>
            	<allowed-values>
                    <pattern>&zid;</pattern>
                </allowed-values>
            </column>
            <column name="EXTERNAL_ZAID">
                <description>Org ID of the user. Set only in case if user is an external user. Defaults to null to denote user from same org.</description>
            	<data-type>CHAR</data-type>
            	<max-size>100</max-size>
            	<allowed-values>
                    <pattern>&zid;</pattern>
                </allowed-values>
            </column>
            <column name="MEMBER_STATUS">
                <description>Denotes the status of the group member - Active-1/Inactive-0/Marked for Removal-2</description>
            	<data-type>TINYINT</data-type>
            	<default-value>1</default-value>
            	<nullable>false</nullable>
            </column>
            <column name="MEMBER_ROLE">
                <description>Role of the member in the group.</description>
            	<data-type>TINYINT</data-type>
            	<default-value>1</default-value>
            	<nullable>false</nullable>
            </column>
            <column name="MEMBER_TYPE">
                <description>Denotes the type of member in the group - Member-0/SubGroup-1</description>
                <data-type>TINYINT</data-type>
                <default-value>0</default-value>
                <nullable>false</nullable>
            </column>
            <column name="FULL_NAME">
                <description>Name of the member. Should sync with IAMUser table.</description>
                <data-type>CHAR</data-type>
                <max-size>200</max-size>
                <nullable>false</nullable>
                <allowed-values>
                    <pattern>xss:throwerror</pattern>
                </allowed-values>
            </column>
            <column name="DISPLAY_NAME">
                <description>Name of the member. Should sync with IAMUser table.</description>
                <data-type>CHAR</data-type>
                <max-size>100</max-size>
                <nullable>false</nullable>
                <allowed-values>
                    <pattern>xss:throwerror</pattern>
                </allowed-values>
            </column>
            <column name="ADDED_BY">
                <description>ZUID of the user who created the resource.</description>
                <data-type>CHAR</data-type>
                <max-size>100</max-size>
                <default-value>-1</default-value>
                <nullable>false</nullable>
                <allowed-values>
                    <pattern>&zid;</pattern>
                </allowed-values>
            </column>
            <column name="MODIFIED_BY">
                <description>ZUID of the user who lastly modified the resource.</description>
                <data-type>CHAR</data-type>
                <max-size>100</max-size>
                <allowed-values>
                    <pattern>&zid;</pattern>
                </allowed-values>
            </column>
            <column name="CREATED_TIME">
                <description>Resource created time.</description>
                <data-type>BIGINT</data-type>
            </column>
            <column name="MODIFIED_TIME">
                <description>Resource lastly modified time.</description>
                <data-type>BIGINT</data-type>
            </column>
    	</columns>
        <primary-key name="IAMUnifiedGroupMember_PK">
            <primary-key-column>UNIFIED_GROUP_REALM_AUTO_ID</primary-key-column>
            <primary-key-column>ZUID</primary-key-column>
        </primary-key>
        <foreign-keys>
            <foreign-key name="IAMUnifiedGroupMember_FK1" reference-table-name="IAMUnifiedGroupRealm" >
                <fk-columns>
                    <fk-column>
                        <fk-local-column>UNIFIED_GROUP_REALM_AUTO_ID</fk-local-column>
                        <fk-reference-column>UNIFIED_GROUP_REALM_AUTO_ID</fk-reference-column>
                    </fk-column>
                </fk-columns>
                <fk-constraints>ON-DELETE-CASCADE</fk-constraints>
            </foreign-key>
            <foreign-key name="IAMUnifiedGroupMember_FK2" reference-table-name="IAMUnifiedGroup" >
                <fk-columns>
                    <fk-column>
                        <fk-local-column>UNIFIED_GROUP_AUTO_ID</fk-local-column>
                        <fk-reference-column>UNIFIED_GROUP_AUTO_ID</fk-reference-column>
                    </fk-column>
                </fk-columns>
                <fk-constraints>ON-DELETE-CASCADE</fk-constraints>
            </foreign-key>
        </foreign-keys>
        <unique-keys>
            <unique-key name="IAMUnifiedGroupMember_UK1">
                <unique-key-column>UNIFIED_GROUP_AUTO_ID</unique-key-column>
                <unique-key-column>ZUID</unique-key-column>
            </unique-key>
        </unique-keys>
    </table>
    <table name="IAMUnifiedGroupRealmPolicy" display-name="UnifiedGroupRealmPolicy">
    	<description>Different policies like Adding_a_member/Deleting_a_member/Expiry_time_for_members are stored under it. A set of these are called a realm in the realm table.</description>
    	<columns>
            <column name="UNIFIED_GROUP_REALM_POLICY_AUTO_ID">
                <data-type>BIGINT</data-type>
                <nullable>false</nullable>
                <uniquevalue-generation>
                    <generator-name>IAMUnifiedGroupRealmPolicy.UNIFIED_GROUP_REALM_POLICY_AUTO_ID</generator-name>
                    <generator-class>com.zoho.accounts.internal.LongSequenceGenerator</generator-class>
                </uniquevalue-generation>
            </column>
            <column name="UNIFIED_GROUP_REALM_AUTO_ID">
                <description>Foreign Key from IAMUnifiedGroupRealm table.</description>
                <data-type>BIGINT</data-type>
                <nullable>false</nullable>
            </column>
            <column name="REALM_POLICY_NAME">
                <description>Enum of allowed member policies. Only restricted set of IAM allowed polcies can be set.</description>
                <data-type>CHAR</data-type>
                <max-size>100</max-size>
                <nullable>false</nullable>
                <allowed-values>
                    <pattern>xss:throwerror</pattern>
                </allowed-values>
            </column>
            <column name="REALM_POLICY_VALUE">
                <description>Value for the policy name.</description>
                <data-type>CHAR</data-type>
                <max-size>100</max-size>
                <nullable>false</nullable>
                <allowed-values>
                    <pattern>xss:throwerror</pattern>
                </allowed-values>
            </column>
            <column name="IS_ENABLED">
                <description>To enable or disable the policy.</description>
                <data-type>TINYINT</data-type>
                <default-value>1</default-value>
                <nullable>false</nullable>
            </column>
            <column name="ADDED_BY">
                <description>ZUID of the user who created the resource.</description>
                <data-type>CHAR</data-type>
                <max-size>100</max-size>
                <default-value>-1</default-value>
                <nullable>false</nullable>
                <allowed-values>
                    <pattern>&zid;</pattern>
                </allowed-values>
            </column>
            <column name="MODIFIED_BY">
                <description>ZUID of the user who lastly modified the resource.</description>
                <data-type>CHAR</data-type>
                <max-size>100</max-size>
                <allowed-values>
                    <pattern>&zid;</pattern>
                </allowed-values>
            </column>
            <column name="CREATED_TIME">
                <description>Resource created time.</description>
                <data-type>BIGINT</data-type>
            </column>
            <column name="MODIFIED_TIME">
                <description>Resource lastly modified time.</description>
                <data-type>BIGINT</data-type>
            </column>
    	</columns>
        <primary-key name="IAMUnifiedGroupRealmPolicy_PK">
            <primary-key-column>UNIFIED_GROUP_REALM_POLICY_AUTO_ID</primary-key-column>
        </primary-key>
        <foreign-keys>
            <foreign-key name="IAMUnifiedGroupRealmPolicy_FK1" reference-table-name="IAMUnifiedGroupRealm">
                <fk-columns>
                    <fk-column>
                        <fk-local-column>UNIFIED_GROUP_REALM_AUTO_ID</fk-local-column>
                        <fk-reference-column>UNIFIED_GROUP_REALM_AUTO_ID</fk-reference-column>
                    </fk-column>
                </fk-columns>
                <fk-constraints>ON-DELETE-CASCADE</fk-constraints>
            </foreign-key>
        </foreign-keys>
        <unique-keys>
	        <unique-key name="IAMUnifiedGroupRealmPolicy_UK1">
	            <unique-key-column>UNIFIED_GROUP_REALM_AUTO_ID</unique-key-column>
	            <unique-key-column>REALM_POLICY_NAME</unique-key-column>
	        </unique-key>
        </unique-keys>
    </table>
    <table name="IAMUnifiedGroupPolicy" display-name="UnifiedGroupPolicy">
    	<description>Any Policies on group level is kept here. The Policies maybe like "Add group member, Max members allowed in the group, Maximum hierarchy under the subGroups".</description>
    	<columns>
            <column name="UNIFIED_GROUP_POLICY_AUTO_ID">
                <data-type>BIGINT</data-type>
                <nullable>false</nullable>
                <uniquevalue-generation>
                    <generator-name>IAMUnifiedGroupPolicy.UNIFIED_GROUP_POLICY_AUTO_ID</generator-name>
                    <generator-class>com.zoho.accounts.internal.LongSequenceGenerator</generator-class>
                </uniquevalue-generation>
            </column>
            <column name="UNIFIED_GROUP_AUTO_ID">
                <description>Foreign Key from IAMUnifiedGroup table.</description>
                <data-type>BIGINT</data-type>
                <nullable>false</nullable>
            </column>
            <column name="POLICY_NAME">
                <description>Enum of set of Policies. Only selected set of IAM Policies would be available.</description>
                <data-type>CHAR</data-type>
                <max-size>100</max-size>
                <nullable>false</nullable>
                <allowed-values>
                    <pattern>xss:throwerror</pattern>
                </allowed-values>
            </column>
            <column name="POLICY_VALUE">
                <description>Value for the Constraint.</description>
                <data-type>CHAR</data-type>
                <max-size>100</max-size>
                <nullable>false</nullable>
                <allowed-values>
                    <pattern>xss:throwerror</pattern>
                </allowed-values>
            </column>
            <column name="IS_ENABLED">
                <description>To enable or disable the policy.</description>
                <data-type>TINYINT</data-type>
                <default-value>1</default-value>
                <nullable>false</nullable>
            </column>
            <column name="ADDED_BY">
                <description>ZUID of the user who created the resource.</description>
                <data-type>CHAR</data-type>
                <max-size>100</max-size>
                <default-value>-1</default-value>
                <nullable>false</nullable>
                <allowed-values>
                    <pattern>&zid;</pattern>
                </allowed-values>
            </column>
            <column name="MODIFIED_BY">
                <description>ZUID of the user who lastly modified the resource.</description>
                <data-type>CHAR</data-type>
                <max-size>100</max-size>
                <allowed-values>
                    <pattern>&zid;</pattern>
                </allowed-values>
            </column>
            <column name="CREATED_TIME">
                <description>Resource created time.</description>
                <data-type>BIGINT</data-type>
            </column>
            <column name="MODIFIED_TIME">
                <description>Resource lastly modified time.</description>
                <data-type>BIGINT</data-type>
            </column>
    	</columns>
        <primary-key name="IAMUnifiedGroupPolicy_PK">
            <primary-key-column>UNIFIED_GROUP_POLICY_AUTO_ID</primary-key-column>
        </primary-key>
        <foreign-keys>
            <foreign-key name="IAMUnifiedGroupPolicy_FK1" reference-table-name="IAMUnifiedGroup">
                <fk-columns>
                    <fk-column>
                        <fk-local-column>UNIFIED_GROUP_AUTO_ID</fk-local-column>
                        <fk-reference-column>UNIFIED_GROUP_AUTO_ID</fk-reference-column>
                    </fk-column>
                </fk-columns>
                <fk-constraints>ON-DELETE-CASCADE</fk-constraints>
            </foreign-key>
        </foreign-keys>
        <unique-keys>
            <unique-key name="IAMUnifiedGroupPolicy_UK1">
	            <unique-key-column>UNIFIED_GROUP_AUTO_ID</unique-key-column>
                <unique-key-column>POLICY_NAME</unique-key-column>
            </unique-key>
        </unique-keys>
    </table>
	<table name="IAMUnifiedGroupSyncServices" display-name="UnifiedGroupSyncServices">
        <description>To store the meta of the sync between the groups and services.</description>
        <columns>
            <column name="UNIFIED_GROUP_SYNC_SERVICES_AUTO_ID">
                <data-type>BIGINT</data-type>
                <nullable>false</nullable>
                <uniquevalue-generation>
                    <generator-name>IAMUnifiedGroupSyncServices.UNIFIED_GROUP_SYNC_SERVICES_AUTO_ID</generator-name>
                    <generator-class>com.zoho.accounts.internal.LongSequenceGenerator</generator-class>
                </uniquevalue-generation>
            </column>
            <column name="ZGSSID">
                <data-type>BIGINT</data-type>
                <uniquevalue-generation>
                    <generator-name>IAMUnifiedGroupSyncServices.ZGSSID</generator-name>
                    <generator-class>com.zoho.accounts.internal.LongSequenceGenerator</generator-class>
                </uniquevalue-generation>
            </column>
            <column name="UNIFIED_GROUP_AUTO_ID">
                <description>Foreign Key from IAMUnifiedGroup table.</description>
                <data-type>BIGINT</data-type>
                <nullable>false</nullable>
            </column>
            <column name="SERVICE_RESOURCE_ID">
                <data-type>BIGINT</data-type>
                <nullable>false</nullable>
            </column>
            <column name="SERVICE_RESOURCE_TYPE">
                <data-type>TINYINT</data-type>
                <nullable>false</nullable>
            </column>
            <column name="APP_ID">
            	<data-type>BIGINT</data-type>
            	<default-value>-1</default-value>
                <nullable>false</nullable>
            </column>
            <column name="IS_ENABLED">
                <data-type>TINYINT</data-type>
                <default-value>1</default-value>
                <nullable>false</nullable>
            </column>
            <column name="ADDED_BY">
                <description>ZUID of the user who created the resource.</description>
                <data-type>CHAR</data-type>
                <max-size>100</max-size>
                <default-value>-1</default-value>
                <nullable>false</nullable>
                <allowed-values>
                    <pattern>&zid;</pattern>
                </allowed-values>
            </column>
            <column name="MODIFIED_BY">
                <description>ZUID of the user who lastly modified the resource.</description>
                <data-type>CHAR</data-type>
                <max-size>100</max-size>
                <allowed-values>
                    <pattern>&zid;</pattern>
                </allowed-values>
            </column>
            <column name="CREATED_TIME">
                <description>Resource created time.</description>
                <data-type>BIGINT</data-type>
            </column>
            <column name="MODIFIED_TIME">
                <description>Resource lastly modified time.</description>
                <data-type>BIGINT</data-type>
            </column>
        </columns>
        <primary-key name="IAMUnifiedGroupSyncServices_PK">
            <primary-key-column>UNIFIED_GROUP_SYNC_SERVICES_AUTO_ID</primary-key-column>
        </primary-key>
        <foreign-keys>
            <foreign-key name="IAMUnifiedGroupSyncServices_FK1" reference-table-name="IAMUnifiedGroup" >
                <fk-columns>
                    <fk-column>
                        <fk-local-column>UNIFIED_GROUP_AUTO_ID</fk-local-column>
                        <fk-reference-column>UNIFIED_GROUP_AUTO_ID</fk-reference-column>
                    </fk-column>
                </fk-columns>
                <fk-constraints>ON-DELETE-CASCADE</fk-constraints>
            </foreign-key>
        </foreign-keys>
        <unique-keys>
            <unique-key name="IAMUnifiedGroupSyncServices_UK1">
                <unique-key-column>ZGSSID</unique-key-column>
            </unique-key>
            <unique-key name="IAMUnifiedGroupSyncServices_UK2">
                <unique-key-column>UNIFIED_GROUP_AUTO_ID</unique-key-column>
                <unique-key-column>APP_ID</unique-key-column>
                <unique-key-column>SERVICE_RESOURCE_ID</unique-key-column>
            </unique-key>
        </unique-keys>
        <indexes>
            <index name="IAMUnifiedGroupSyncService_AIDSRTndx">
                <index-column>APP_ID</index-column>
                <index-column>SERVICE_RESOURCE_TYPE</index-column>
            </index>
            <index name="IAMUnifiedGroupSyncService_SRIDndx">
                <index-column>SERVICE_RESOURCE_ID</index-column>
            </index>
            <index name="IAMUnifiedGroupSyncService_ENBLDndx">
                <index-column>IS_ENABLED</index-column>
            </index>
        </indexes>
    </table>
    <table name="IAMUnifiedGroupRoleVsServiceRole" display-name="UnifiedGroupRoleVsServiceRole">
    	<description>The mapping of service roles with the respective group roles are placed here. This is purely for ZohoOne Service Sync purpose.</description>
		<columns>
            <column name="UNIFIED_GROUP_ROLE_VS_SERVICE_ROLE_AUTO_ID">
                <data-type>BIGINT</data-type>
                <nullable>false</nullable>
                <uniquevalue-generation>
                    <generator-name>IAMUnifiedGroupRoleVsServiceRole.UNIFIED_GROUP_ROLE_VS_SERVICE_ROLE_AUTO_ID</generator-name>
                    <generator-class>com.zoho.accounts.internal.LongSequenceGenerator</generator-class>
                </uniquevalue-generation>
            </column>
            <column name="ZGRSRID">
                <data-type>BIGINT</data-type>
                <uniquevalue-generation>
                    <generator-name>IAMUnifiedGroupRoleVsServiceRole.ZGRSRID</generator-name>
                    <generator-class>com.zoho.accounts.internal.LongSequenceGenerator</generator-class>
                </uniquevalue-generation>
            </column>
            <column name="UNIFIED_GROUP_SYNC_SERVICES_AUTO_ID">
                <description>Foreign Key from IAMUnifiedGroupSyncServices table.</description>
                <data-type>BIGINT</data-type>
                <nullable>false</nullable>
            </column>
            <column name="SERVICE_ROLE">
            	<description>Role of the user in the service.</description>
            	<data-type>CHAR</data-type>
                <max-size>100</max-size>
                <nullable>false</nullable>
            </column>
            <column name="GROUP_ROLE">
            	<description>Role in which user has to be synced to the group in IAM.</description>
            	<data-type>TINYINT</data-type>
                <nullable>false</nullable>
            </column>
            <column name="ADDED_BY">
                <description>ZUID of the user who created the resource.</description>
                <data-type>CHAR</data-type>
                <max-size>100</max-size>
                <default-value>-1</default-value>
                <nullable>false</nullable>
                <allowed-values>
                    <pattern>&zid;</pattern>
                </allowed-values>
            </column>
            <column name="MODIFIED_BY">
                <description>ZUID of the user who lastly modified the resource.</description>
                <data-type>CHAR</data-type>
                <max-size>100</max-size>
                <allowed-values>
                    <pattern>&zid;</pattern>
                </allowed-values>
            </column>
            <column name="CREATED_TIME">
                <description>Resource created time.</description>
                <data-type>BIGINT</data-type>
            </column>
            <column name="MODIFIED_TIME">
                <description>Resource lastly modified time.</description>
                <data-type>BIGINT</data-type>
            </column>
		</columns>
        <primary-key name="IAMUnifiedGroupRoleVsServiceRole_PK">
            <primary-key-column>UNIFIED_GROUP_SYNC_SERVICES_AUTO_ID</primary-key-column>
        </primary-key>
        <foreign-keys>
            <foreign-key name="IAMUnifiedGroupRoleVsServiceRole_FK1" reference-table-name="IAMUnifiedGroupSyncServices" >
                <fk-columns>
                    <fk-column>
                        <fk-local-column>UNIFIED_GROUP_SYNC_SERVICES_AUTO_ID</fk-local-column>
                        <fk-reference-column>UNIFIED_GROUP_SYNC_SERVICES_AUTO_ID</fk-reference-column>
                    </fk-column>
                </fk-columns>
                <fk-constraints>ON-DELETE-CASCADE</fk-constraints>
            </foreign-key>
        </foreign-keys>
        <unique-keys>
            <unique-key name="IAMUnifiedGroupRoleVsServiceRole_UK1">
                <unique-key-column>ZGRSRID</unique-key-column>
            </unique-key>
        </unique-keys>
	</table>
	<table name="IAMUnifiedParentGroup" display-name="UnifiedParentGroup">
		<description>This group is used to map the parent ZGID of every group in a hierarchy.</description>
		<columns>
            <column name="UNIFIED_PARENT_GROUP_ID">
                <data-type>BIGINT</data-type>
                <nullable>false</nullable>
                <uniquevalue-generation>
                    <generator-name>IAMUnifiedParentGroup.UNIFIED_PARENT_GROUP_ID</generator-name>
                    <generator-class>com.zoho.accounts.internal.LongSequenceGenerator</generator-class>
                </uniquevalue-generation>
            </column>
            <column name="UNIFIED_GROUP_AUTO_ID">
                <description>Foreign Key from IAMUnifiedGroup table.</description>
                <data-type>BIGINT</data-type>
                <nullable>false</nullable>
            </column>
            <column name="PARENT_ZGID">
                <description>Parent group's ZGID</description>
                <data-type>CHAR</data-type>
                <max-size>100</max-size>
                <nullable>false</nullable>
                <allowed-values>
                    <pattern>&zid;</pattern>
                </allowed-values>
            </column>
            <column name="ADDED_BY">
                <description>ZUID of the user who created the resource.</description>
                <data-type>CHAR</data-type>
                <max-size>100</max-size>
                <default-value>-1</default-value>
                <nullable>false</nullable>
                <allowed-values>
                    <pattern>&zid;</pattern>
                </allowed-values>
            </column>
            <column name="CREATED_TIME">
                <description>Resource created time.</description>
                <data-type>BIGINT</data-type>
            </column>
		</columns>
        <primary-key name="IAMUnifiedParentGroup_PK">
            <primary-key-column>UNIFIED_PARENT_GROUP_ID</primary-key-column>
        </primary-key>
        <foreign-keys>
            <foreign-key name="IAMUnifiedParentGroup_FK1" reference-table-name="IAMUnifiedGroup" >
                <fk-columns>
                    <fk-column>
                        <fk-local-column>UNIFIED_GROUP_AUTO_ID</fk-local-column>
                        <fk-reference-column>UNIFIED_GROUP_AUTO_ID</fk-reference-column>
                    </fk-column>
                </fk-columns>
                <fk-constraints>ON-DELETE-CASCADE</fk-constraints>
            </foreign-key>
        </foreign-keys>
        <unique-keys>
	        <unique-key name="IAMUnifiedParentGroup_UK1">
	            <unique-key-column>UNIFIED_GROUP_AUTO_ID</unique-key-column>
	            <unique-key-column>PARENT_ZGID</unique-key-column>
	        </unique-key>
        </unique-keys>
	</table>
	<table name="IAMUnifiedGroupProps" display-name="UnifiedGroupProps">
		<description>Any group related properties/metadata can be stored here. It is not fixed on IAM side and up-to the Service teams to store any key-value pairs.</description>
		<columns>
            <column name="UNIFIED_GROUP_PROPS_AUTO_ID">
                <data-type>BIGINT</data-type>
                <nullable>false</nullable>
                <uniquevalue-generation>
                    <generator-name>IAMUnifiedGroupProps.UNIFIED_GROUP_PROPS_AUTO_ID</generator-name>
                    <generator-class>com.zoho.accounts.internal.LongSequenceGenerator</generator-class>
                </uniquevalue-generation>
            </column>
            <column name="UNIFIED_GROUP_AUTO_ID">
                <description>Foreign Key from IAMUnifiedGroup table.</description>
                <data-type>BIGINT</data-type>
                <nullable>false</nullable>
            </column>
            <column name="ZGPID">
                <data-type>BIGINT</data-type>
                <uniquevalue-generation>
                    <generator-name>UnifiedGroupProps.ZGPID</generator-name>
                    <generator-class>com.zoho.accounts.internal.LongSequenceGenerator</generator-class>
                </uniquevalue-generation>
            </column>
            <column name="PROPERTY_NAME">
                <data-type>CHAR</data-type>
                <max-size>100</max-size>
                <nullable>false</nullable>
                <allowed-values>
                    <pattern>xss:throwerror</pattern>
                </allowed-values>
            </column>
            <column name="PROPERTY_VALUE">
                <data-type>CHAR</data-type>
                <max-size>100</max-size>
                <nullable>false</nullable>
                <allowed-values>
                    <pattern>xss:throwerror</pattern>
                </allowed-values>
            </column>
            <column name="SOURCE_SERVICE">
                <description>Name of the IAM Service which created the property.</description>
            	<data-type>INTEGER</data-type>
            	<default-value>-1</default-value>
                <nullable>false</nullable>
            </column>
            <column name="ADDED_BY">
                <description>ZUID of the user who created the resource.</description>
                <data-type>CHAR</data-type>
                <max-size>100</max-size>
                <default-value>-1</default-value>
                <nullable>false</nullable>
                <allowed-values>
                    <pattern>&zid;</pattern>
                </allowed-values>
            </column>
            <column name="MODIFIED_BY">
                <description>ZUID of the user who lastly modified the resource.</description>
                <data-type>CHAR</data-type>
                <max-size>100</max-size>
                <allowed-values>
                    <pattern>&zid;</pattern>
                </allowed-values>
            </column>
            <column name="CREATED_TIME">
                <description>Resource created time.</description>
                <data-type>BIGINT</data-type>
            </column>
            <column name="MODIFIED_TIME">
                <description>Resource lastly modified time.</description>
                <data-type>BIGINT</data-type>
            </column>
		</columns>
        <primary-key name="IAMUnifiedGroupProps_PK">
            <primary-key-column>UNIFIED_GROUP_PROPS_AUTO_ID</primary-key-column>
        </primary-key>
        <foreign-keys>
            <foreign-key name="IAMUnifiedGroupProps_FK1" reference-table-name="IAMUnifiedGroup">
                <fk-columns>
                    <fk-column>
                        <fk-local-column>UNIFIED_GROUP_AUTO_ID</fk-local-column>
                        <fk-reference-column>UNIFIED_GROUP_AUTO_ID</fk-reference-column>
                    </fk-column>
                </fk-columns>
                <fk-constraints>ON-DELETE-CASCADE</fk-constraints>
            </foreign-key>
        </foreign-keys>
        <unique-keys>
	        <unique-key name="IAMUnifiedGroupProps_UK1">
	            <unique-key-column>ZGPID</unique-key-column>
	        </unique-key>
	        <unique-key name="IAMUnifiedParentGroup_UK2">
	            <unique-key-column>SOURCE_SERVICE</unique-key-column>
	            <unique-key-column>PROPERTY_NAME</unique-key-column>
	        </unique-key>
        </unique-keys>
	</table>
	<table name="IAMUnifiedGroupSmartFormula" display-name="UnifiedGroupSmartFormula">
		<description>Here, smart formula to add a user automatically to a group based on geographic location, language constraints, basing on designations or any such constraint is placed.</description>
		<columns>
            <column name="UNIFIED_GROUP_SMART_FORMULA_AUTO_ID">
                <data-type>BIGINT</data-type>
                <nullable>false</nullable>
                <uniquevalue-generation>
                    <generator-name>IAMUnifiedGroupSmartFormula.UNIFIED_GROUP_SMART_FORMULA_AUTO_ID</generator-name>
                    <generator-class>com.zoho.accounts.internal.LongSequenceGenerator</generator-class>
                </uniquevalue-generation>
            </column>
            <column name="UNIFIED_GROUP_AUTO_ID">
                <description>Foreign Key from IAMUnifiedGroup table.</description>
                <data-type>BIGINT</data-type>
                <nullable>false</nullable>
            </column>
            <column name="ZGSFID">
                <data-type>BIGINT</data-type>
                <uniquevalue-generation>
                    <generator-name>UnifiedGroupSmartFormula.ZGSFID</generator-name>
                    <generator-class>com.zoho.accounts.internal.LongSequenceGenerator</generator-class>
                </uniquevalue-generation>
            </column>
            <column name="FORMULA_NAME">
                <description>Name of the Smart formula.</description>
                <data-type>CHAR</data-type>
                <max-size>100</max-size>
                <nullable>false</nullable>
                <allowed-values>
                    <pattern>xss:throwerror</pattern>
                </allowed-values>
            </column>
            <column name="MEMBER_ROLE">
                <description>The Role in which the users will be added to the group if the user meets this particular Smart Formula.</description>
            	<data-type>TINYINT</data-type>
            	<nullable>false</nullable>
            </column>
            <column name="SMART_FORMULA">
                <description>The Blob of the Smart Formula is placed here.</description>
				<data-type>BLOB</data-type>
				<nullable>false</nullable>
            </column>
            <column name="SOURCE_SERVICE">
                <description>Service which created the smart formula.</description>
            	<data-type>INTEGER</data-type>
            	<default-value>-1</default-value>
                <nullable>false</nullable>
            </column>
            <column name="ADDED_BY">
                <description>ZUID of the user who created the resource.</description>
                <data-type>CHAR</data-type>
                <max-size>100</max-size>
                <default-value>-1</default-value>
                <nullable>false</nullable>
                <allowed-values>
                    <pattern>&zid;</pattern>
                </allowed-values>
            </column>
            <column name="MODIFIED_BY">
                <description>ZUID of the user who lastly modified the resource.</description>
                <data-type>CHAR</data-type>
                <max-size>100</max-size>
                <allowed-values>
                    <pattern>&zid;</pattern>
                </allowed-values>
            </column>
            <column name="CREATED_TIME">
                <description>Resource created time.</description>
                <data-type>BIGINT</data-type>
            </column>
            <column name="MODIFIED_TIME">
                <description>Resource lastly modified time.</description>
                <data-type>BIGINT</data-type>
            </column>
   		</columns>
        <primary-key name="IAMUnifiedGroupSmartFormula_PK">
            <primary-key-column>UNIFIED_GROUP_SMART_FORMULA_AUTO_ID</primary-key-column>
        </primary-key>
        <foreign-keys>
            <foreign-key name="IAMUnifiedGroupSmartFormula_FK1" reference-table-name="IAMUnifiedGroup">
                <fk-columns>
                    <fk-column>
                        <fk-local-column>UNIFIED_GROUP_AUTO_ID</fk-local-column>
                        <fk-reference-column>UNIFIED_GROUP_AUTO_ID</fk-reference-column>
                    </fk-column>
                </fk-columns>
                <fk-constraints>ON-DELETE-CASCADE</fk-constraints>
            </foreign-key>
        </foreign-keys>
        <unique-keys>
            <unique-key name="IAMUnifiedGroupSmartFormula_UK1">
	            <unique-key-column>UNIFIED_GROUP_AUTO_ID</unique-key-column>
                <unique-key-column>ZGSFID</unique-key-column>
            </unique-key>
        </unique-keys>
    </table>
</data-dictionary>
